
  <mat-spinner *ngIf = "isLoading"></mat-spinner>
  <mat-accordion multi = "true" *ngIf = "posts.length>0 && !isLoading">
    <mat-expansion-panel *ngFor = "let post of posts" >
      <mat-expansion-panel-header class = "boldovanje">
        {{post.title}}
      </mat-expansion-panel-header>
      <div class = "post-image">
        <img [src] = "post.imagePath" [alt] = "post.title">
      </div>
      <p>{{post.content}}</p>
      <p>{{post.tip}}</p>
      <p>{{post.oznaka}}</p>
      <mat-action-row *ngIf = "userIsAuthenticated && userId === post.creator">
        <a mat-button color = "primary" [routerLink] = "['/edit', post.id]">EDIT</a>
        <button mat-button color = "warn" (click) = "onDelete(post.id)">PRODATO</button>
      </mat-action-row>
      <mat-action-row >
        <button mat-button color = "primary" (click) = "makeFavorite(post.id)">OZNACI NEKRETNINU KAO OMILJENU</button>
      </mat-action-row>
      <mat-action-row >
        <a mat-button color = "primary" [routerLink] = "['/nekretnina', post.id]">DETALJNIJE O NEKRETNINI</a>
      </mat-action-row>
    </mat-expansion-panel>
  </mat-accordion>
  <mat-paginator [length] = "totalPosts" [pageSize] = "postsPerPage" [pageSizeOptions] = "pageSizeOptions" (page) = "onChangedPage($event) " *ngIf = "posts.length>0"></mat-paginator>
  <p class="info-text mat-dash-body-1" *ngIf="posts.length<=0 && !isLoading">No Posts added yet!</p>

<mat-card>
    <mat-spinner *ngIf = "isLoading"></mat-spinner>
    <form (submit) ="onSearch(searchForm)" #searchForm ="ngForm"  *ngIf = "!isLoading">
      <mat-form-field>
        <input
        matInput
        name = "title"
        ngModel
        type="text"
        placeholder = "FILTER ZA TITLE POSTA" #titleInput= "ngModel" >
        <mat-error *ngIf = "titleInput.invalid">Please enter a valid email</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input
        matInput
        name = "content"
        ngModel
        type="text"
        placeholder = "FILTER ZA CONTENT POSTA" #contentInput= "ngModel">
      </mat-form-field>
      <button  mat-raised-button color="primary" type = "submit" *ngIf = "!isLoading">PRETRAZI</button>
    </form>
  </mat-card>

